<p id="notice"><%= notice %></p>

<h1>トイレ一覧</h1>

<table>
  <thead>
    <tr>
      <th>id</th>
      <th>トイレ名称</th>
      <th>多目的トイレ</th>
      <th>[男]小便器数</th>
      <th>[男]個室数</th>
      <th>[男]ウォシュレット</th>
      <th>[女]個室数</th>
      <th>[女]ウォシュレット</th>
      <th>オープン時間</th>
      <th>クローズ時間</th>
      <th>備考</th>
      <th>緯度</th>
      <th>経度</th>
      <th>User_id</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @toilets.each do |toilet| %>
      <tr>
        <td><%= toilet.id %></td>
        <td><%= toilet.toilet_name %></td>
        <td><%= toilet.multipurpose %></td>
        <td><%= toilet.m_urinal %></td>
        <td><%= toilet.m_room %></td>
        <td><%= toilet.m_washlet %></td>
        <td><%= toilet.w_room %></td>
        <td><%= toilet.w_washlet %></td>
        <td><%= toilet.open_time %></td>
        <td><%= toilet.close_time %></td>
        <td><%= toilet.remark %></td>
        <td><%= toilet.latitude %></td>
        <td><%= toilet.longtitude %></td>
        <td><%= toilet.user_id %></td>
        <td><%= link_to 'Show', toilet %></td>
        <td><%= link_to 'Edit', edit_toilet_path(toilet) %></td>
        <td><%= link_to 'Destroy', toilet, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'トイレ情報を登録する', new_toilet_path %>


<!-- 以下、GooglemapAPIテスト記述 -->

<h2>gmap</h2>
<div id='map'></div>

<style>
#map{
  height: 400px;
}
</style>


<script>
let map;
function initMap() {
 let myLatlng = new google.maps.LatLng(35.681167, 139.767052);
 //インスタンスを作成
 map = new google.maps.Map(document.getElementById('map'), {
  //地図のオプション
  //初期のズームレベル
  zoom: 12,
  //地図の中心点
  center: myLatlng
 });
 //マーカーの初期プロパティを指定
 marker = new google.maps.Marker({
  position: myLatlng,
  //ドラッグを許可
  draggable: true,
  map: map
 });
 //マーカーのドロップ（ドラッグ終了）時のイベント
 google.maps.event.addListener(marker, 'dragend', function(e) {
  //イベントの引数eの、プロパティ.latLngがmarkerの緯度経度。
  document.getElementById( "target_latitude" ).value = e.latLng.lat(),
  document.getElementById( "target_longtitude" ).value = e.latLng.lng()
 });
}
google.maps.event.addDomListener(window, 'load', initMap);
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgk50-Uh4K60ddzGNY5yOcfx4clQMNYNU&callback=initMap" async defer></script>
